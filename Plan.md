# Планирование автоматизации 

## Перечень автоматизируемых сценариев.
Перечень валидных данных для тестирования:
1. Номер карты: состоит из 16 цифр,
4444 4444 4444 4441 статус ОДОБРЕН.
4444 4444 4444 4442 статус ОТКЛОНЕН.
2. Месяц – значение текущего месяца, цифры в формате ХХ от 1 до 12 включительно.
3. Год – значение текущего года, две последние цифры в формате ХХ.
4. Владелец - значение длиной от 1 латинской буквы, допустимы пробелы и дефисы.
5. CVC/CVV - 3 цифры.

### Позитивные сценарии тестирования UI.
#### Предусловие, выполняемое поочередно для каждого сценария:
1. Нажать кнопку Купить.
2. Нажать кнопку Купить в кредит.
   
### *1.Оплата тура картой с использованием валидных данных.*
##### Шаги:
1. Ввести номер карты со статусом ОДОБРЕН.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Появляется сообщение &quot;Успешно Операция одобрена банком&quot;.
В БД появляется запись с информацией о проведенной операции, которой присваивается id и
статус &quot;APPROVED&quot;.

### *2.Оплата тура отклонена при оплате действующей картой со статусом ОТКЛОНЕН и с использованием валидных данных.*
##### Шаги:
1. Ввести номер карты со статусом ОТКЛОНЕН.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.

* Ожидаемый результат: Появляется сообщение &quot;Отказ Операция отклонена банком&quot;.
В БД появляется запись с информацией о проведенной операции, которой присваивается id и
статус &quot;DECLINED&quot;.

### Негативные сценарии тестирования UI.
### *1.Оплата тура картой без заполнения полей формы.*
##### Шаги:
1. Нажать кнопку Продолжить.
* Ожидаемый результат: Все поля для ввода данных подсвечены красным, под всеми полями появляется сообщение "Поле обязательно для заполнения".

### *2.Оплата тура картой с пустым полем Номер карты.*
##### Шаги:
1. Оставить пустым поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Номер карты подсвечивается красным, появляется сообщение "Поле обязательно для заполнения".

### *3.Оплата тура картой с невалидным номером длиной 16 цифр.*
##### Шаги:
1. Ввести номер карты, состоящий из 16 цифр.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Появляется сообщение &quot;Отказ Операция отклонена банком&quot;.
  
### *4.Оплата тура картой с номером длиной 17 цифр.*
##### Шаги:
1. Ввести номер карты, состоящий из 17 цифр.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Номер карты подсвечивается красным,
появляется сообщение &quot;Неверный формат&quot;.

### *5.Оплата тура картой с номером длиной 15 цифр.*

##### Шаги:
1. Ввести номер карты, состоящий из 15 цифр.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Номер карты подсвечивается красным,
появляется сообщение &quot;Неверный формат&quot;.

### *6.Оплата тура картой с номером, состоящим из спецсимволов.*
##### Шаги:
1. Ввести номер карты, состоящий из символов (спецсимволы, пробелы,
тире, дефис).
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Номер карты подсвечивается красным,
появляется сообщение &quot;Неверный формат&quot;.

### *7.Оплата тура картой с пустым полем Месяц и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Оставить пустым поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется сообщение "Поле обязательно для заполнения".
  
### *8.Оплата тура картой со значением 00 в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести значение 00 в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *9.Оплата тура картой со значением 13 в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести значение 13 в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *10.Оплата тура картой со значением, состоящим из одной цифры в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести значение 1 в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *11.Оплата тура картой со значением, состоящим из спецсимвола в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести значение из спецсимволов в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *12.Оплата тура картой с пустым полем Год и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Оставить пустым поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Год подсвечивается красным, появляется сообщение "Поле обязательно для заполнения".

### *13.Оплата тура картой со значением в поле Год, ранее текущего года и с использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести в поле Год значение, ранее текущего года.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Операция отклонена. Истек срок действия карты&quot;.*

### *14.Оплата тура картой со спецсимволами в поле Год и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести в поле Год спецсимволы.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *15.Оплата тура картой с одной цифрой в поле Год и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести в поле Год одну цифру.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *16.Оплата тура картой с пустым полем Владелец и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Оставить пустым поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Владелец подсвечивается красным, появляется сообщение "Поле обязательно для заполнения".

### *17.Оплата тура картой с цифрами в поле Владелец и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести цифры в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Владелец подсвечивается красным, появляется сообщение &quot;Неверный формат&quot;.

### *18.Оплата тура картой со спецсимволами в поле Владелец и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести спецсимволы в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Владелец подсвечивается красным,
появляется сообщение &quot;Неверный формат&quot;.

### *19.Оплата тура дебетовой картой со значением в поле Владелец, набранным кириллицей и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести в поле Владелец значение, набранное кириллицей.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Владелец подсвечивается красным,
появляется сообщение &quot;Неверный формат&quot;.

### *20.Оплата тура картой с пустым полем CVC/CVV и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Оставить пустым поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле CVC подсвечивается красным, появляется сообщение "Поле обязательно для заполнения"..

### *21.Оплата тура картой с двумя цифрами в поле CVC/CVV и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести в поле CVC/CVV две цифры.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *22.Оплата тура картой с буквами в поле CVC/CVV и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести в поле CVC/CVV буквы.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *23.Оплата тура дебетовой картой со спецсимволами в поле CVC/CVV и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести в поле CVC/CVV спецсимволы.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### Cценарии тестирования API


Предусловие:

1. Каждый сценарий проверяется поочередно для:

-покупки по дебетовой карте на  http://localhost:8080/api/v1/pay

-покупки в кредит на http://localhost:8080/api/v1/credit


2. Каждый сценарий проверяется поочередно на 2-х БД:

- MySQL;

- PostgreSQL.

### *Позитивные сценарии:*

1. Отправка POST-запроса с валидными данными и номером карты со статусом  "APPROVED".

* Ожидаемый результат: Status: 200 OK, в базе появляется запись со статусом  "APPROVED".

2. Отправка POST-запроса на с валидными данными и номером карты со статусом "DECLINED".

* Ожидаемый результат: Status: 200 OK, в базе появляется запись со статусом  "DECLINED".


### *Негативные сценарии:*

1. Отправка пустого POST-запроса.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

2. Отправка POST-запроса с валидными данными без номера  карты.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

3. Отправка POST-запроса с валидными данными без указания месяца.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

4. Отправка POST- запроса с валидными данными без указания года.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

5. Отправка POST- запроса с валидными данными без указания
владельца карты.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

6. Отправка POST- запроса с валидными данными без указания CVC/CVV.

* Ожидаемый результат: Status 400, в базе отсутствует запись.



 ### Перечень используемых инструментов с обоснованием выбора

   1. IntelliJ IDEA - это наиболее удобная IDE для программирования на
      различных языках.
   2. Gradle - система, автоматизирующая процесс сборки проекта.
   3. Docker Compose - система сборки, запуска и управления множеством контейнеров,
      позволяющая работать, в том числе, с СУБД.
   4. DBeaver - программа для работы с СУБД, популярный инструмент,
      работающий, в том числе,с MySQL и PostgreSQL.
   5. Java 11 для написания автотестов. Java имеет широкий спектр библиотек и
      фреймворков, доступных для тестирования.
   6. JUnit5 популярная платформа для тестирования, наиболее удобная и продвинутая
      версия.
   7. Selenide - это удобный и лаконичный фреймворк для
      автоматизированного тестирования
      веб-приложений на основе Selenium WebDriver.
   8. Faker - библиотека для генерации случайных данных, широко
      применяемая в тестировании.
   9. Allure - популярный инструмент построения отчётов автотестов,
      упрощающий их анализ.
   10. Git и GitHub для хранения кода, результатов тестирования.


### Перечень и описание возможных рисков при автоматизации

  * Риск появления проблем с настройкой необходимых фреймворков
  * Риск появления проблем с настройкой приложения и необходимых БД.
  * Риск появления проблем с правильной идентификацией полей ввода.
  * Риск неработающего заявленного функционала приложения


### Интервальная оценка с учётом рисков в часах  
   
   * Планирование автоматизации тестирования - 7
   * Непосредственно сама автоматизация - 40
   * Подготовка баг-репортов и отчётных документов по итогам
     автоматизированного тестирования - 8
   * Подготовка отчётных документов по итогам автоматизации - 5


    Итого: 60 часов.

### План сдачи работ: когда будут готовы автотесты, результаты их прогона

   * Настройка окружения и планирование  - 
   * Написание автотестов и тестирование - 
   * Подготовка отчетной документации по тестированию - 

