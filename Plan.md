# Планирование автоматизации 

### 1. Перечень автоматизируемых сценариев 
   
   **Тестовые данные:**  

  * Поле Номер карты: 16 арабских цифр. Номер 4444 4444 4444 4441, статус УТВЕРЖДЕН. Номер 4444 4444 4444 4442, статус ОТКЛОНЕН;
  * Поле Месяц: следующие комбинации из 2-х цифр: 01, 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, 12;
  * Поле Год: двузначное число, больше 23 и меньше 50 (23 означает год проведения тестирования - 2023, 50 - 2050);
  * Поле Владелец: две комбинации латинских прописных символов, разделенные пробелом (имя и фамилия клиента), количество которых суммарно не превышает 50;
  * Поле CVC/CVV: любая комбинация из трёх арабских цифр


  **UI-тесты**
  
 **Позитивные:**

  * Заполнение полей формы "Оплата по карте" валидными значениями. Ожидаемый результат: появление сообщения об успешной оплате.
  * Заполнение полей формы "Кредит по данным карты" валидными значениями. Ожидаемый результат: появляется сообщение об успешной оплате.
  * Отказ в оплате тура при попытке оплатить действующей дебетовой картой со статусом ОТКЛОНЕН. Ожидаемый результат: появляется сообщение об отказе оплаты.
  * Отказ в кредите при попытке оформить его на действующую карту со статусом ОТКЛОНЕН. Ожидаемый результат: появляется сообщение об отказе в кредите.
  * Заполнение поля "Номер карты" формы "Оплата по карте" значением 4444 4444 4444 4442, статус ОТКЛОНЕН. Остальные поля заполнены валидными значениями.       Ожидаемый результат: появление сообщения об отказе в оплате.


 **Негативные:**

  * ТК 1. Заполнение поля "Номер карты" формы "Оплата по карте" 16 случайными цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об отказе в оплате.
  * ТК 2. Заполнение поля "Номер карты" формы "Оплата по карте" 15 цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимой длине поля.
  * ТК 3. Заполнение поля "Номер карты" формы "Оплата по карте" 17 цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимой длине поля.
  * ТК 4. Заполнение поля "Номер карты" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о неверно введенном номере карты.
  * ТК 5. Оставить поле "Номер карты" формы "Оплата по карте" пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.
  * ТК 6. Заполнение поля "Месяц" формы "Оплата по карте" цифрами 00. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 7. Заполнение поля "Месяц" формы "Оплата по карте" цифрами 13. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 8. Заполнение поля "Месяц" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 9. Оставить поле "Месяц" формы "Оплата по карте"пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.
  * ТК 10. Заполнение поля "Месяц" формы "Оплата по карте" одной арабской цифрой. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 11. Заполнение поля "Год" формы "Оплата по карте" цифрами 00. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 12. Заполнение поля "Год" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 13. Оставить поле "Год" формы "Оплата по карте" пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.
  * ТК 14. Заполнение поля "Год" формы "Оплата по карте" последними цифрами уже прошедшего года. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 15. Заполнение поля "Владелец" формы "Оплата по карте" буквами кириллицы. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 16. Заполнение поля "Владелец" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 17. Оставить поле "Владелец" формы "Оплата по карте" пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.
  * ТК 18. Заполнение поля "Владелец" формы "Оплата по карте" цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 19. Поставить в начале поля "Владелец" формы "Оплата по карте" пробел и заполнить далее валидными данными. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 20. Заполнить поле "Владелец" формы "Оплата по карте" валидным значением с пробелом в конце. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 21. Поставить в начале поля "Владелец" формы "Оплата по карте" дефис и заполнить далее валидными данными. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 22. Заполнить поле "Владелец" формы "Оплата по карте" валидным значением с дефисом в конце. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 23. Заполнить поле "Владелец" формы "Оплата по карте" латинскими буквами нижнего регистра. Остальные поля заполнены валидными значениями. Ожидаемый результат: автозамена на буквы верхнего регистра.
  * ТК 24. Заполнить поле "CVC/CVV" формы "Оплата по карте" спецсимволами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 25. Оставить поле "CVC/CVV" формы "Оплата по карте" пустым. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения об обязательном заполнении поля.
  * ТК 26. Заполнить поле "CVC/CVV" формы "Оплата по карте" латинскими буквами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 27. Заполнить поле "CVC/CVV" формы "Оплата по карте" 2 арабскими цифрами. Остальные поля заполнены валидными значениями. Ожидаемый результат: появление сообщения о недопустимом значении поля.
  * ТК 28. Оставить форму "Оплата по карте" незаполненной. Ожидаемый результат: при нажатии на кнопку "Продолжить" появляется сообщение об обязательном заполнении полей формы.
  * ТК 29 - 56 Аналогичные сценарии для формы "Кредит по данным карты"


   **API тестирование**
  
**Позитивные:**

  * ТК 1. Отправить POST-запрос с валидными данными дебетовой карты на http://localhost:9999/payment. Ожидаемый результат: статус 200, в базе данных появляется соответсвующая запись.
  * ТК 2. Отправить POST-запрос с валидными данными кредитной карты на http://localhost:9999/credit. Ожидаемый результат: статус 200, в базе данных появляется соответсвующая запись.
  * ТК 3. Отправить POST-запрос с валидными данными дебетовой карты со статусом ОТКЛОНЕН на http://localhost:9999/payment. Ожидаемый результат: статус 200, в базе данных появляется соответсвующая запись.
  * ТК 4. Отправить POST-запрос с валидными данными кредитной карты со статусом ОТКЛОНЕН на http://localhost:9999/credit. Ожидаемый результат: статус 200, в базе данных появляется соответсвующая запись.



**Негативные:**

  * ТК 1. Отправить POST-запрос с пустым телом запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 2. Отправить POST-запрос с пустым телом запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 3. Отправить POST-запрос с пустым значением "Номер карты" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 4. Отправить POST-запрос с пустым значением "Номер карты" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 5. Отправить POST-запрос с пустым значением "Месяц" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 6. Отправить POST-запрос с пустым значением "Месяц" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 7. Отправить POST-запрос с пустым значением "Год" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 8. Отправить POST-запрос с пустым значением "Год" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 9. Отправить POST-запрос с пустым значением "Владелец" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 10. Отправить POST-запрос с пустым значением "Владелец" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 11. Отправить POST-запрос с пустым значением "CVC/CVV" в теле запроса на http://localhost:9999/payment. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.
  * ТК 12. Отправить POST-запрос с пустым значением "CVC/CVV" в теле запроса на http://localhost:9999/credit. Ожидаемый результат: статус 400, отсутствие записей о запросе в базе.


 ### 2. Перечень используемых инструментов с обоснованием выбора

  1. Java. Приложение написано на языке Java, поэтому инфраструктура выбрана для Java
  2. IntelliJ IDEA. Платформа для удобного написания кода и работы с тестами.
  3. JUnit. Библиотека для написания и запуска авто-тестов.
  4. Gradle. Система управления зависимости, которая позволит удобно ставить необходимые фреймворки без проблем с постоянной настройкой зависимостей.
  5. Selenide. Фреймворк для автоматизированного тестирования веб-приложений.
  6. Allure. Фреймворк, предназначенный для создания подробных отчетов о выполнении тестов.
  7. Postman. API-платформа, обрабатывающая запросы и ответы при клиент-серверном взаимодействии
  8. DBeaver. Клиентское программное приложение SQL для работы с базой данных сервера
  9. Docker -для развертывания БД.
  10. Git и Github. Система контроля версий, для хранения кодов автотестов и настроек окружения.


### 3. Перечень и описание возможных рисков при автоматизации

  * Риск появления проблем с настройкой необходимых фреймворков
  * Риск появления проблем с настройкой приложения и необходимых БД.
  * Риск появления проблем с правильной идентификацией полей ввода.
  * Риск неработающего заявленного функционала приложения


### 4. Интервальная оценка с учётом рисков в часах  
   
  * Подготовка окружения, развертывание БД - 24 часа.
  * Написание автотестов, тестирование и отладка автотестов - 72 часа.
  * Формирование и анализ отчетов - 12 часов.


    Итого: 108 часов

### 5. План сдачи работ: когда будут готовы автотесты, результаты их прогона

  * С 8 по 20 ноября - настройка окружения, написание и отладка автотестов, тестирование.
  * C 21 по 25 ноября - подготовка отчетных документов.

